@using DancingGoat.InlineEditors
@using DancingGoat.Widgets

@model ListingWidgetViewModel

@if (Context.Kentico().PageBuilder().EditMode)
{
    var dropDownEditorPath = "~/Components/InlineEditors/DropDownEditor/_DropDownEditor.cshtml";
    <div class="listing-inline-editor">
        <partial name="@dropDownEditorPath" model="@Model.EditorsModels.PageTypeSelectorViewModel" />
        <partial name="@dropDownEditorPath" model="@Model.EditorsModels.TransformationSelectorViewModel" />
        <vc:path-editor property-name="@nameof(ListingWidgetProperties.SelectedPage)" page="@Model.SelectedValues.ParentPage" />
		<partial name="~/Components/InlineEditors/TopNEditor/_TopNEditor.cshtml"
			 model="new TopNEditorViewModel
                    {
                        PropertyName = nameof(ListingWidgetProperties.TopN),
                        TopN = Model.SelectedValues.TopN
                    }" />
        <partial name="@dropDownEditorPath" model="@Model.EditorsModels.OrderFieldSelectorViewModel" />
        <partial name="~/Components/InlineEditors/OrderDirectionEditor/_OrderDirectionEditor.cshtml" 
            model="new OrderDirectionViewModel
                {
                    PropertyName = nameof(ListingWidgetProperties.OrderDirection), 
                    Order = Model.SelectedValues.OrderDirection
                }" />
    </div>
}

 <vc:transformation model="@Model.SelectedValues"/>